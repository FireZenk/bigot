(function(){var a;a=require("underscore"),exports.render=function(b,c){var d;return(d=function(b,c){return a.each(c,function(c,e){var f,g,h,i,j,k,l;return a.isArray(c)?(k=b.indexOf("{loop "+e+"}"),void 0!==k?(l=7+k+(""+e).length,f=b.indexOf("{end "+e+"}"),g=b.slice(l,f),h="",a.each(c,function(b){var c;return a.isObject(b)?(c=g,a.each(b,function(e,f){var h,i,j;return a.isArray(e)?(j=c.indexOf("{loop "+f+"}"),h=6+c.indexOf("{end "+f+"}")+(""+f).length,i=d(c.slice(j,h),b),c=c.slice(0,j)+i+c.slice(h,g.length)):c=c.replace("{"+f+"}",e)}),h+=c):h+=g.replace("{@}",b)}),i=b.slice(f,b.length),j=b.slice(0,k),b=j+h+i.replace("{end "+e+"}","")):void 0):b=b.replace("{"+e+"}",c)}),b})(b,c)}}).call(this);